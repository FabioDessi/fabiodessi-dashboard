extends default 

block content 
  h1 #{title}
  table
    thead
      tr 
        th Title 
        th Description 
        th Actions
    tbody 
      each result in list 
        tr 
          td 
            a(href="/work-experiences/" + result.id ) #{result.title} 
          td #{result.description}
          td 
            button(onClick="deleteWorkExperience('" + result.id + "')") Delete
  a(href="/work-experiences/create") Add New

  script.
    function deleteWorkExperience(id) {
      fetch(`/work-experiences/${id}`, { method: 'DELETE' })
        .then((response) => response.json())
        .then((data) => {
          if (data.success) {
            location.reload();
          } else {
            console.log('Error deleting work experience:', data.message);
          }
        })
        .catch((error) => {
          console.error('Error deleting work experience:', error);
        });
    }